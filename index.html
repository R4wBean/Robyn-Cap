<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLICKABOLS</title>

<style>
body{
    font-family: Arial;
    background:#111;
    color:#eee;
    display:flex;
    justify-content:center;
    padding:40px 15px;
}

.container{
    width:100%;
    max-width:900px;
    background:#1e1e1e;
    padding:30px;
    border-radius:28px;
}

h2{
    text-align:center;
    margin-bottom:5px;
}

#mainUsername{
    font-size:18px;
    font-weight:bold;
    margin-bottom:15px;
    text-align:left;
}

.top-info{
    text-align:center;
    margin-bottom:25px;
    font-size:15px;
}

.top-info div{
    margin:3px 0;
}

.row{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:10px;
    margin-top:12px;
}

.row.posts{
    margin-top:30px;
}

.output-btn{
    padding:10px 18px;
    border:none;
    border-radius:16px;
    background:#2f2f2f;
    color:white;
    cursor:pointer;
    font-size:14px;
    transition:0.2s ease;
}

.output-btn:hover{
    background:#3d3d3d;
}

.output-btn.active{
    background:#1b3f7a;
}

.output-btn.duplicate{
    background:#7a1b1b;
}

textarea{
    width:100%;
    height:110px;
    margin-top:8px;
    padding:12px;
    border-radius:18px;
    border:none;
    background:#2a2a2a;
    color:white;
    resize:none;
}

.generate-btn{
    width:100%;
    padding:14px;
    margin-top:20px;
    border:none;
    border-radius:18px;
    background:#444;
    color:white;
    font-size:15px;
    cursor:pointer;
}

.section{ margin-top:25px; }
</style>
</head>

<body>
<div class="container">

<h2>CLICKA BY RB</h2>
<div id="mainUsername"></div>

<div class="top-info">
    <div id="modelName"></div>
    <div id="picLocation"></div>
    <div id="proxyOutput"></div>
</div>

<div id="output"></div>

<div class="section">
<h3>Bio / Repost / Account Row Paste</h3>
<textarea id="repost"></textarea>
</div>

<div class="section">
<h3>Caption</h3>
<textarea id="captions"></textarea>
</div>

<div class="section">
<h3>Topic</h3>
<textarea id="topics"></textarea>
</div>

<div class="section">
<h3>Pics</h3>
<textarea id="pics"></textarea>
</div>

<button class="generate-btn" onclick="generate()">Generate Buttons</button>

</div>

<script>

let activeButton=null;

function cleanLines(text){
    return text.split("\n")
        .map(l=>l.trim())
        .filter(l=>l && !l.includes(".txt"));
}

function formatBio(text){
    const parts=text.trim().split(/\s+/);
    if(parts.length<3) return text;
    return parts[0]+" "+parts[1]+"\n"+parts.slice(2).join(" ");
}

function extractPicInfo(link){
    try{
        const parts=link.split("/");
        const nameRaw=parts[3]||"";
        const name=nameRaw.split(" ")[0];

        const file=parts[parts.length-1];
        const locMatch=file.match(/_([a-z-]+)_\d+\.jpg/i);
        const location=locMatch?
            locMatch[1].charAt(0).toUpperCase()+locMatch[1].slice(1):"";

        return {
            name:name?name.charAt(0).toUpperCase()+name.slice(1):"",
            location:location
        };
    }catch{
        return {name:"",location:""};
    }
}

function extractLocation(text){
    const match=
        text.match(/moved to\s+([a-zA-Z-]+)/i)||
        text.match(/from\s+ðŸ“?\s*([a-zA-Z-]+)/i)||
        text.match(/^([a-zA-Z-]+)\s+ðŸ“/i);

    if(match){
        return match[1].charAt(0).toUpperCase()+match[1].slice(1);
    }
    return "Post";
}

function createCopyButton(label,value){
    const btn=document.createElement("button");
    btn.className="output-btn";
    btn.innerText=label;
    btn.dataset.value=value;

    btn.onclick=()=>{
        navigator.clipboard.writeText(value);
        if(activeButton) activeButton.classList.remove("active");
        btn.classList.add("active");
        activeButton=btn;
    };
    return btn;
}

function generate(){

    const output=document.getElementById("output");
    output.innerHTML="";
    document.getElementById("modelName").innerText="";
    document.getElementById("picLocation").innerText="";
    document.getElementById("proxyOutput").innerText="";
    document.getElementById("mainUsername").innerText="";

    const raw=document.getElementById("repost").value.trim();

    let repostAcc="", repostCaption="", username="", email="", proxy="", bioRaw="";

    if(raw){
        const parts=raw.split("\t");

        username=parts[0]||"";
        email=parts.find(p=>p.includes("@"))||"";
        proxy=parts[6]||"";

        bioRaw=parts.find(p=>p.match(/^\d+\s/))||"";
        const bioIndex=parts.indexOf(bioRaw);

        repostCaption=parts[bioIndex+1]||"";
        repostAcc=parts[bioIndex+2]||"";

        document.getElementById("mainUsername").innerText=username;
        document.getElementById("proxyOutput").innerText="Proxy: "+proxy;
    }

    /* ROW 1 â€“ PICS */
    const pics=cleanLines(document.getElementById("pics").value);
    const picRow=document.createElement("div");
    picRow.className="row";

    pics.slice(0,3).forEach((p,i)=>{
        picRow.appendChild(createCopyButton("Pic "+(i+1),p));
    });

    output.appendChild(picRow);

    if(pics[0]){
        const info=extractPicInfo(pics[0]);
        document.getElementById("modelName").innerText="Model: "+info.name;
        document.getElementById("picLocation").innerText="Location: "+info.location;
    }

    /* ROW 2 â€“ EMAIL + USERNAME + BIO */
    const row2=document.createElement("div");
    row2.className="row";

    if(email) row2.appendChild(createCopyButton("Email",email));
    if(username) row2.appendChild(createCopyButton("Username",username));

    if(bioRaw){
        const formattedBio=formatBio(bioRaw);
        row2.appendChild(createCopyButton("Bio",formattedBio));
    }

    output.appendChild(row2);

    /* ROW 3 â€“ POSTS */
    const caps=cleanLines(document.getElementById("captions").value);
    const postRow=document.createElement("div");
    postRow.className="row posts";

    caps.slice(0,3).forEach((cap,i)=>{
        postRow.appendChild(createCopyButton("Post "+(i+1),cap));
    });

    output.appendChild(postRow);

    /* ROW 4 â€“ TOPICS */
    const topics=cleanLines(document.getElementById("topics").value);
    const topicRow=document.createElement("div");
    topicRow.className="row";

    topics.slice(0,3).forEach((topic,i)=>{
        topicRow.appendChild(createCopyButton("Topic "+(i+1),topic));
    });

    output.appendChild(topicRow);

    /* ROW 5 â€“ REPOST */
    const repostRow=document.createElement("div");
    repostRow.className="row";

    if(repostAcc) repostRow.appendChild(createCopyButton("Repost Acc",repostAcc));
    if(repostCaption) repostRow.appendChild(createCopyButton("Repost Caption",repostCaption));

    output.appendChild(repostRow);
}

</script>
</body>
</html>
